<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>TRICKS(8NEMO) manual page</title>
</head>
<body bgcolor='white'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
tricks - some tricks (and bugs) when using NEMO 
<h2><a name='sect1' href='#toc1'>Description</a></h2>
One can use
<a href='cat.1.html'><i>cat(1)</i></a>
 to catenate structured binary files, e.g. <br>
<pre><tt> </tt>&nbsp;<tt> </tt>&nbsp;cat r001a.dat &gt;&gt;r001.dat
</pre><p>
To copy structured binary files between machines of different binary format,
use the <a href='tsf.1.html'><i>tsf(1NEMO)</a>
, <a href='rsf.1.html'>rsf(1NEMO)</i></a>
 programs and, if available, the <a href='compress.1.html'><i>compress(1)</a>
,
<a href='uncompress.1.html'>uncompress(1)</i></a>
 utilities: <br>
<pre><tt> </tt>&nbsp;<tt> </tt>&nbsp;tsf in=r001.dat maxprec=t allline=t | compress &gt;&gt; r001.data.Z
and on the other machine:
<tt> </tt>&nbsp;<tt> </tt>&nbsp;zcat r001.data.Z | rsf - r001.dat
</pre>On non-Unix supercomputers, often the ASCII "205" format (see e.g. <a href='atos.1.html'><i>atos(1NEMO)</i></a>
)
will be used. This may be saved in compressed format also, and can be processed
by NEMO after <br>
<pre><tt> </tt>&nbsp;<tt> </tt>&nbsp;zcat r001.data.Z | atos - r001.dat
</pre><p>
Some N-body programs, which are capable of handling a series of snapshots,
and selecting them using the <b>times=</b> keyword, are not able to handle subsequent
snapshots which are larger than the first one. In fact,  unpredictable things
may happen, although usually it results in a core because of illegal memory
access. There are two solutions. The program can be recompiled, by using
a <b>-DREALLOC</b> flag or <b>#define</b> it in the source code. The second solution is
to prepend the datafile with a large enough &rsquo;dummy&rsquo; file. <p>
To display a scatter
diagram in the form of a contour map, convert the two columns to a snapshot
by calling them &rsquo;x&rsquo; and &rsquo;y&rsquo; coordinates. Remaining phase space coordinates are
unimportant. Set masses to 1, and use the <a href='atos.1.html'><i>atos(1NEMO)</i></a>
 format. A program like
<a href='awk.1.html'><i>awk(1)</i></a>
 can write the file for <a href='atos.1.html'><i>atos(1NEMO)</i></a>
, then <a href='snapgrid.1.html'><i>snapgrid(1NEMO)</i></a>
 creates
a <a href='image.5.html'><i>image(5NEMO)</i></a>
 file, which can be optionally smoothed using <a href='ccdsmooth.1.html'><i>ccdsmooth(1NEMO)</i></a>

and displayed with <a href='ccdplot.1.html'><i>ccdplot(1NEMO)</i></a>
. In case your host has nicer contour plotting
programs, use <a href='ccdfits.1.html'><i>ccdfits(1NEMO)</i></a>
 to write a <a href='fits.5.html'><i>fits(5NEMO)</i></a>
 format file. Check also
the tabccd shell script, if available, or perhaps someone wrote it in C
already. It calls awk, atos and snapgrid. <p>
The <a href='ds.1LOCAL.html'><i>ds(1LOCAL)</i></a>
 program, written
by Bill Sebok, is one of the external  programs which can be used to display
images. <i>ds</i> can understand a variety of image file formats, of which the
<a href='fits.5.html'><i>fits(5NEMO)</i></a>
 is best suited for our needs. Transform your image to a fits
file using <a href='ccdfits.1.html'><i>ccdfits(1NEMO)</i></a>
, and use  ds on that fits file. Although <a href='ds.1L.html'><i>ds(1L)</i></a>

 works on monochrome SUN workstations, it&rsquo;s best on a color monitor. The
trick to remember is to use the <b>-yflip</b> switch, or click on the Y button,
because  our fits interface has a problem obviously... 
<h2><a name='sect2' href='#toc2'>PIPES and SHARED MEMORY</a></h2>
NEMO
encourages you to use pipes where serial operations make sense (see also
<a href='tee.1.html'><i>tee(1)</i></a>
). However on Linux, assuming you have enough memory, using /dev/shm
will sacrifice your memory to store data temporarely and could speed up
your I/O dominated workflow. Here is a simple example: <br>
<pre>       mkdir /dev/shm/$USER
       cd /dev/shm/$USER
       mkspiral s000 1000000 nmodel=40
</pre>The example of <a href='mkspiral.1.html'><i>mkspiral(1NEMO)</i></a>
 is taken from the NEMO <a href='bench.5.html'><i>bench(5NEMO)</i></a>
 suite,
but this example is actually not very I/O dominated. 
<h2><a name='sect3' href='#toc3'>See Also</a></h2>
<a href='nemo.1.html'>nemo(1NEMO)</a>
,
<a href='bench.5.html'>bench(5NEMO)</a>
, <a href='tee.1.html'>tee(1)</a>
 
<h2><a name='sect4' href='#toc4'>Author</a></h2>
Peter Teuben. 
<h2><a name='sect5' href='#toc5'>Update History</a></h2>
<br>
<pre>18-Aug-88<tt> </tt>&nbsp;<tt> </tt>&nbsp;Document created<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT 
5-mar-89<tt> </tt>&nbsp;<tt> </tt>&nbsp;tabccd added         <tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
6-mar-89<tt> </tt>&nbsp;<tt> </tt>&nbsp;ds added          <tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
9-oct-90<tt> </tt>&nbsp;<tt> </tt>&nbsp;fixed some typos<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
jan-2020<tt> </tt>&nbsp;<tt> </tt>&nbsp;added pipe/shm<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
</pre><p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Description</a></li>
<li><a name='toc2' href='#sect2'>PIPES and SHARED MEMORY</a></li>
<li><a name='toc3' href='#sect3'>See Also</a></li>
<li><a name='toc4' href='#sect4'>Author</a></li>
<li><a name='toc5' href='#sect5'>Update History</a></li>
</ul>
</body>
</html>
